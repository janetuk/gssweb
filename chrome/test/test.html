<html>
  <head>
    <title>GSSApi Tester Application</title>
    <script language="javascript">
      function report(msg) {
        var response = document.getElementById('response');
        response.innerHTML = '<p>' + msg + '</p>' + response.innerHTML;
      }

      function doImportName() {
        var gss = new navigator.gss({
          appTag: "TestApp",
          error:  function(major, minor, errMsg, appTag) 
                  {
                    report("Error");
                    report("Major: " + major + "; Minor: " + minor);
                    report("<blockquote>" + errMsg + "</blockquote>");
                    report("appTag: " + appTag);
                  }
        });
        gss.import_name({
          name:      document.getElementById('import_name_name').value,
          name_type: document.getElementById('import_name_mech').value,
          success:   function(name, appTag) {
                       report("GSS imported name: " + name);
                       report("appTag: " + appTag);
                     }
        });
      }
      
      document.addEventListener('DOMContentLoaded', function () {
        document.getElementById('import_name').addEventListener(
          'click', doImportName
        );
        console.log('DOMContentLoaded.');
      });

    </script>
  </head>
  <body>
    <h2>GSS Import Name parameters:</h2>
    <label for="import_name_name">Name:</label>
    <input name="import_name_name" id="import_name_name" value="HTTP@localhost.localdomain" />
    <br/>
    <label for="import_name_mech">Mechanism:</label>
    <input name="import_name_mech"
           id="import_name_mech"
           value="{1 2 840 113554 1 2 1 4 }" />
    <br/>
    <button id="import_name">gss_import_name</button>
    <br/>
    <div id='response'></div>
  </body>
</html>
